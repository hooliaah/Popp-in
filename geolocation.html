<!DOCTYPE html>
<html>
<head>
	<head runat="server">
    <title>Geolocation</title>
    <script src="../../Scripts/jquery-1.4.1.js" type="text/javascript"></script>
    <script src="http://maps.googleapis.com/maps/api/js?sensor=false" type="text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
	<div id="message"></div>
	<div id="position"></div>
	<div id="map" style="border: 4px solid red; height: 300px; width: 300px"></div>
<script type="text/javascript">
	
 $(document).ready(function () {
            var message = $("#message");
            var position = $("#position");
            if (window.navigator.geolocation) {
                message.html("locating");
                var geolocation = window.navigator.geolocation;
                var options = { enableHighAccuracy: true}
                geolocation.getCurrentPosition(onComplete, onFail, options);             }
            else {
                message.html("No support");
            }
        });
 
        function onComplete(geoPosition) {
            $("#position").append("<p> Latitude" + geoPosition.coords.latitude + "</p>");
            $("#position").append("<p> Longitude" + geoPosition.coords.longitude + "</p>");
            Initializemap(geoPosition.coords.latitude, geoPosition.coords.longitude);
        }
 
        function onFail() {
            alert("Failed ");
        }
 
        function Initializemap(latitude, longitude) {
 
            var Latlng = new google.maps.LatLng(latitude, longitude);
            var options = {zoom: 18, center: Latlng, mapTypeId: google.maps.MapTypeId.ROADMAP };
            var map = new google.maps.Map(document.getElementById("map"),options);
        }
</script>
</body>
</html>